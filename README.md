# SkillRadar

SkillRadar - это ETL-пайплайн для анализа рынка труда. Проект собирает вакансии с HH.ru, обрабатывает данные через Kafka и сохраняет их в ClickHouse. Это позволяет в реальном времени следить за востребованными навыками и уровнем зарплат

## Как это устроено

Проект использует классический Big Data стек. Все компоненты связаны, но работают независимо

* Airflow 2.7. Управляет расписанием. Регулярно запускает скрипты, которые опрашивают API HeadHunter
* Kafka. Служит буфером. Принимает поток "сырых" вакансий и гарантирует, что данные не потеряются по пути в базу
* ClickHouse. Хранит данные и отвечает за аналитику. Благодаря колоночной структуре моментально считает агрегаты по миллионам строк
* Metabase. Визуализирует данные. Подключается к ClickHouse и строит понятные дашборды
* Docker. Упаковывает всё перечисленное в контейнеры, чтобы вам не пришлось настраивать среду вручную

## Быстрый старт

Вам не нужно устанавливать Python или настраивать базы данных. Всё работает внутри Docker

1. Скачайте код
   ```bash
   git clone [https://github.com/ВАШ_НИК/skill_radar.git](https://github.com/ВАШ_НИК/skill_radar.git)
   cd skill_radar
Запустите контейнеры

Bash

docker-compose up -d
Первый запуск займет 2-3 минуты - нужно время, чтобы собрать образы и инициализировать базу данных

Включите сбор данных Откройте Airflow по адресу http://localhost:8081. Логин и пароль: admin / admin. Найдите в списке DAG skillradar_hh_parser, переведите тумблер слева в положение ON и нажмите кнопку запуска (треугольник справа)

Смотрите результаты Данные начнут поступать в ClickHouse. Вы можете работать с ними через SQL или настроить графики

Metabase доступен по адресу: http://localhost:3000

Работа с базой данных
В ClickHouse созданы четыре основные сущности:

vacancies - основная таблица. Хранит уникальные вакансии, дубликаты удаляются автоматически

kafka_queue - очередь для приема потока данных

vacancies_mv - материализованное представление. Перекладывает данные из очереди в основную таблицу

top_skills_by_role - готовое представление (View) для аналитики

Пример запроса для проверки (топ навыков для Data Engineer):

SQL

SELECT * FROM skill_radar.top_skills_by_role LIMIT 10;
Технологии
Python 3.11

Библиотеки: kafka-python, clickhouse-driver, requests, pendulum, pydantic

Базы и инструменты: ClickHouse, Kafka, Zookeeper, Airflow, Metabase
