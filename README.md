# SkillRadar üéØ

<<<<<<< HEAD
**SkillRadar** ‚Äî —ç—Ç–æ ETL-–ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞ —Ç—Ä—É–¥–∞. –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –≤–∞–∫–∞–Ω—Å–∏–∏ —Å HH.ru, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Kafka –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ ClickHouse. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞–≤—ã–∫–∞–º–∏ –∏ —É—Ä–æ–≤–Ω–µ–º –∑–∞—Ä–ø–ª–∞—Ç.
=======
SkillRadar - —ç—Ç–æ ETL-–ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞ —Ç—Ä—É–¥–∞. –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –≤–∞–∫–∞–Ω—Å–∏–∏ —Å HH.ru, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Kafka –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ ClickHouse. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞–≤—ã–∫–∞–º–∏ –∏ —É—Ä–æ–≤–Ω–µ–º –∑–∞—Ä–ø–ª–∞—Ç
>>>>>>> 1d9ccbcdf1b09fe6b7d47903b698ed5793c57893

## üèó –ö–∞–∫ —ç—Ç–æ —É—Å—Ç—Ä–æ–µ–Ω–æ

<<<<<<< HEAD
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Big Data —Å—Ç–µ–∫. –í –≤–µ—Ä—Å–∏–∏ 2.0 –º—ã –ø–µ—Ä–µ—à–ª–∏ –Ω–∞ **PostgreSQL** –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –≤–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á.

* **Airflow 2.7 + Postgres**. –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `LocalExecutor` –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∑–∞–¥–∞—á.
* **Kafka + Zookeeper**. –ë—É—Ñ–µ—Ä –¥–∞–Ω–Ω—ã—Ö. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É "—Å—ã—Ä—ã—Ö" –≤–∞–∫–∞–Ω—Å–∏–π –æ—Ç –ø–∞—Ä—Å–µ—Ä–∞ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
* **ClickHouse**. –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ —Å—á–∏—Ç–∞–µ—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã –ø–æ –º–∏–ª–ª–∏–æ–Ω–∞–º —Å—Ç—Ä–æ–∫.
* **Metabase**. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è. –°—Ç—Ä–æ–∏—Ç –¥–∞—à–±–æ—Ä–¥—ã –ø–æ–≤–µ—Ä—Ö ClickHouse.
* **Docker**. –í—Å—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
=======
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π Big Data —Å—Ç–µ–∫. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–∞–Ω—ã, –Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

* Airflow 2.7. –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º. –†–µ–≥—É–ª—è—Ä–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–∞—à–∏–≤–∞—é—Ç API HeadHunter
* Kafka. –°–ª—É–∂–∏—Ç –±—É—Ñ–µ—Ä–æ–º. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ—Ç–æ–∫ "—Å—ã—Ä—ã—Ö" –≤–∞–∫–∞–Ω—Å–∏–π –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è –ø–æ –ø—É—Ç–∏ –≤ –±–∞–∑—É
* ClickHouse. –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫—É. –ë–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ–ª–æ–Ω–æ—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ —Å—á–∏—Ç–∞–µ—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã –ø–æ –º–∏–ª–ª–∏–æ–Ω–∞–º —Å—Ç—Ä–æ–∫
* Metabase. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ ClickHouse –∏ —Å—Ç—Ä–æ–∏—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã
* Docker. –£–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –≤—Å—ë –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —á—Ç–æ–±—ã –≤–∞–º –Ω–µ –ø—Ä–∏—à–ª–æ—Å—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å—Ä–µ–¥—É –≤—Ä—É—á–Ω—É—é

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–í–∞–º –Ω–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Python –∏–ª–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ Docker

1. –°–∫–∞—á–∞–π—Ç–µ –∫–æ–¥
   ```bash
   git clone [https://github.com/–í–ê–®_–ù–ò–ö/skill_radar.git](https://github.com/–í–ê–®_–ù–ò–ö/skill_radar.git)
   cd skill_radar
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
>>>>>>> 1d9ccbcdf1b09fe6b7d47903b698ed5793c57893

### 1. –°–∫–∞—á–∞–π—Ç–µ –∫–æ–¥
```bash
git clone [https://github.com/–í–ê–®_–ù–ò–ö/skill_radar.git](https://github.com/–í–ê–®_–ù–ò–ö/skill_radar.git)
cd skill_radar
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
Bash

docker-compose up -d
<<<<<<< HEAD
–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∑–∞–π–º–µ—Ç 2-3 –º–∏–Ω—É—Ç—ã (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö).

3. –í–∫–ª—é—á–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Airflow: http://localhost:8081 (–õ–æ–≥–∏–Ω/–ü–∞—Ä–æ–ª—å: admin / admin).

–í–∫–ª—é—á–∏—Ç–µ DAG skillradar_hh_parser (—Ç—É–º–±–ª–µ—Ä ON).

–ù–∞–∂–º–∏—Ç–µ Play (‚ñ∂Ô∏è).
=======
–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∑–∞–π–º–µ—Ç 2-3 –º–∏–Ω—É—Ç—ã - –Ω—É–∂–Ω–æ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–í–∫–ª—é—á–∏—Ç–µ —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –û—Ç–∫—Ä–æ–π—Ç–µ Airflow –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:8081. –õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å: admin / admin. –ù–∞–π–¥–∏—Ç–µ –≤ —Å–ø–∏—Å–∫–µ DAG skillradar_hh_parser, –ø–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —Ç—É–º–±–ª–µ—Ä —Å–ª–µ–≤–∞ –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–µ ON –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∑–∞–ø—É—Å–∫–∞ (—Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ —Å–ø—Ä–∞–≤–∞)

–°–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –î–∞–Ω–Ω—ã–µ –Ω–∞—á–Ω—É—Ç –ø–æ—Å—Ç—É–ø–∞—Ç—å –≤ ClickHouse. –í—ã –º–æ–∂–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º–∏ —á–µ—Ä–µ–∑ SQL –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏

Metabase –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000
>>>>>>> 1d9ccbcdf1b09fe6b7d47903b698ed5793c57893

4. –°–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
Metabase (–î–∞—à–±–æ—Ä–¥—ã): http://localhost:3000

<<<<<<< HEAD
ClickHouse (SQL): –ü–æ—Ä—Ç 8123 (HTTP) / 9000 (Native).

üìä –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ (SQL)
–î–∞–Ω–Ω—ã–µ –ª–µ–∂–∞—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ skill_radar.vacancies_categorized.

–¢–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≤–∞–∫–∞–Ω—Å–∏–π:
=======
vacancies - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞. –•—Ä–∞–Ω–∏—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏, –¥—É–±–ª–∏–∫–∞—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

kafka_queue - –æ—á–µ—Ä–µ–¥—å –¥–ª—è –ø—Ä–∏–µ–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö

vacancies_mv - –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ. –ü–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –≤ –æ—Å–Ω–æ–≤–Ω—É—é —Ç–∞–±–ª–∏—Ü—É

top_skills_by_role - –≥–æ—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (View) –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Ç–æ–ø –Ω–∞–≤—ã–∫–æ–≤ –¥–ª—è Data Engineer):
>>>>>>> 1d9ccbcdf1b09fe6b7d47903b698ed5793c57893

SQL

SELECT 
    category, 
    count() as cnt, 
    round(avg(salary_rub_from), 0) as avg_salary
FROM skill_radar.vacancies_categorized 
GROUP BY category 
ORDER BY cnt DESC;
–ö—Ç–æ —Å–µ–π—á–∞—Å –Ω–∞–Ω–∏–º–∞–µ—Ç (–¢–æ–ø-10):

SQL

<<<<<<< HEAD
SELECT employer_name, count() as cnt 
FROM skill_radar.vacancies_categorized 
GROUP BY employer_name 
ORDER BY cnt DESC 
LIMIT 10;
üõ† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ):

Bash

docker-compose down
–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å (—É–¥–∞–ª–∏—Ç—å –±–∞–∑—É –∏ –Ω–∞—á–∞—Ç—å —Å –Ω—É–ª—è):

Bash

docker-compose down -v
=======
–ë–∞–∑—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: ClickHouse, Kafka, Zookeeper, Airflow, Metabase
>>>>>>> 1d9ccbcdf1b09fe6b7d47903b698ed5793c57893
